https://www.google.com/search?q=Property.jsx%3Ft%3D1748954807893%3A452+Uncaught+TypeError%3A+existingImages.map+is+not+a+function+at+
Property+(Property.jsx%3Ft%3D1748954807893%3A452%3A28)+Property.jsx%3Ft%3D1748954807893%3A452+Uncaught+TypeError%3A+existingImages.
map+is+not+a+function+at+Property+(Property.jsx%3Ft%3D1748954807893%3A452%3A28)+react-dom.development.js%3A18704+The+above+error+occurred+
in+the+%3CProperty%3E+component%3A+at+Property+(http%3A%2F%2Flocalhost%3A5173%2Fsrc%2FDashboard%2FProperty%2FProperty.jsx%3Ft%3D1748954807893%3A24%3A39)
+at+RenderedRoute+(http%3A%2F%2Flocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A5449%3A26)+at+Outlet+(http%3A%2F%2Fl
ocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A6116%3A26)+at+main+at+div+at+DashboardLayout+at+RenderedRoute+(http%3A%2F%2Flocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A5449%3A26)+at+Routes+(http%3A%2F%2Flocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A6182%3A3)+at+Router+(http%3A%2F%2Flocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A6125%3A13)+at+BrowserRouter+(http%3A%2F%2Flocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A9111%3A3)+at+App+Consider+adding+an+error+boundary+to+your+tree+to+customize+error+handling+behavior.+Visit+https%3A%2F%2Freactjs.org%2Flink%2Ferror-boundaries+to+learn+more+about+error+boundaries.+react-dom.development.js%3A26962+Uncaught+TypeError%3A+existingImages.map+is+not+a+function+at+Property+(Property.jsx%3Ft%3D1748954807893%3A452%3A28)+what+is+the+error-import+React%2C+%7B+useState%2C+useEffect+%7D+from+%27react%27%3B+import+%7B+Link+%7D+from+%27react-router-dom%27%3B+import+axios+from+%27axios%27%3B+import+%27.%2FProperty1.css%27%3B+const+Property+%3D+()+%3D%3E+%7B+const+%5Bproperties%2C+setProperties%5D+%3D+useState(%5B%5D)%3B+const+%5BfilteredProperties%2C+setFilteredProperties%5D+%3D+useState(%5B%5D)%3B+const+%5BselectedCategory%2C+setSelectedCategory%5D+%3D+useState(%27All%27)%3B+const+%5BshowModal%2C+setShowModal%5D+%3D+useState(false)%3B+const+%5BselectedProperty%2C+setSelectedProperty%5D+%3D+useState(null)%3B+const+%5BisDeleting%2C+setIsDeleting%5D+%3D+useState(false)%3B+const+API_URL+%3D+%27http%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2Fproperty.api.php%27%3B+const+%5BexistingImages%2C+setExistingImages%5D+%3D+useState(%5B%5D)%3B+const+%5BnewImages%2C+setNewImages%5D+%3D+useState(%5B%5D)%3B+useEffect(()+%3D%3E+%7B+if+(showModal+%26%26+selectedProperty%3F.property_id)+%7B+fetch(http%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2Fproperty.images.api.php%3Fproperty_id%3D%24%7BselectedProperty.property_id%7D)+.then(res+%3D%3E+res.json())+.then(data+%3D%3E+setExistingImages(data))+.catch(err+%3D%3E+console.error(%27Error+loading+images%3A%27%2C+err))%3B+%7D+%7D%2C+%5BshowModal%2C+selectedProperty%5D)%3B+if+(newImages.length+%3E+0)+%7B+const+formData+%3D+new+FormData()%3B+formData.append(%27property_id%27%2C+selectedProperty.property_id)%3B+newImages.forEach(img+%3D%3E+formData.append(%27images%5B%5D%27%2C+img))%3B+fetch(%27http%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2Fproperty.images.api.php%27%2C+%7B+method%3A+%27POST%27%2C+body%3A+formData+%7D)+.then(res+%3D%3E+res.json())+.then(data+%3D%3E+%7B+if+(data.success)+%7B+alert(%27Images+uploaded!%27)%3B+setNewImages(%5B%5D)%3B+setExistingImages(prev+%3D%3E+%5B...prev%2C+...data.uploadedImages%5D)%3B+%7D+else+%7B+alert(%27Image+upload+failed!%27)%3B+%7D+%7D)%3B+%7D+useEffect(()+%3D%3E+%7B+fetchProperties()%3B+%7D%2C+%5B%5D)%3B+const+fetchProperties+%3D+async+()+%3D%3E+%7B+try+%7B+const+response+%3D+await+axios.get(API_URL)%3B+const+data+%3D+Array.isArray(response.data)+%3F+response.data+%3A+%5B%5D%3B+setProperties(data)%3B+setFilteredProperties(data)%3B+%7D+catch+(error)+%7B+console.error(%22Error+fetching+properties%22%2C+error)%3B+%7D+%7D%3B+const+handleCategoryChange+%3D+(category)+%3D%3E+%7B+setSelectedCategory(category)%3B+setFilteredProperties(+category+%3D%3D%3D+%27All%27+%3F+properties+%3A+properties.filter(prop+%3D%3E+prop.property_category+%3D%3D%3D+category)+)%3B+%7D%3B+const+handleDelete+%3D+async+(property_id)+%3D%3E+%7B+if+(!window.confirm(%22Are+you+sure+you+want+to+delete+this+property%3F%22))+return%3B+try+%7B+const+response+%3D+await+axios.delete(API_URL%2C+%7B+data%3A+%7B+property_id+%7D%2C+headers%3A+%7B+%27Content-Type%27%3A+%27application%2Fjson%27+%7D%2C+%7D)%3B+if+(response.data.status)+%7B+alert(%22Property+deleted+successfully!%22)%3B+fetchProperties()%3B+%7D+else+%7B+console.error(%22Delete+failed%3A%22%2C+response.data)%3B+alert(%22Delete+failed%3A+%22+%2B+(response.data.message+%7C%7C+%22Unknown+error%22))%3B+%7D+%7D+catch+(error)+%7B+console.error(%22Delete+error%3A%22%2C+error)%3B+if+(error.response+%26%26+error.response.data)+%7B+console.error(%22Delete+error+response%3A+%22%2C+error.response.data)%3B+alert(%22Delete+error%3A+%22+%2B+error.response.data.message)%3B+%7D+else+%7B+alert(%22Unexpected+delete+error.+Check+console.%22)%3B+%7D+%7D+%7D%3B+const+handleEdit+%3D+(property)+%3D%3E+%7B+setSelectedProperty(property)%3B+setShowModal(true)%3B+%7D%3B+const+handleClose+%3D+()+%3D%3E+setShowModal(false)%3B+const+handleSaveChanges+%3D+async+()+%3D%3E+%7B+try+%7B+const+updateData+%3D+%7B+property_id%3A+selectedProperty.property_id%2C+property_name%3A+selectedProperty.property_name%2C+property_address%3A+selectedProperty.property_address%2C+property_description%3A+selectedProperty.property_description%2C+property_price%3A+selectedProperty.property_price%2C+property_state%3A+selectedProperty.property_state%2C+property_category%3A+selectedProperty.property_category+%7D%3B+const+response+%3D+await+axios.put(API_URL%2C+updateData)%3B+if+(response.data.status)+%7B+fetchProperties()%3B+handleClose()%3B+alert(%22Property+updated+successfully!%22)%3B+%7D+else+%7B+alert(Update+failed%3A+%24%7Bresponse.data.message%7D)%3B+%7D+%7D+catch+(error)+%7B+console.error(%22Error+updating+property%3A%22%2C+error)%3B+alert(%22Failed+to+update+property.%22)%3B+%7D+%7D%3B+const+handleChange+%3D+(e)+%3D%3E+%7B+const+%7B+name%2C+value+%7D+%3D+e.target%3B+setSelectedProperty(prev+%3D%3E+(%7B+...prev%2C+%5Bname%5D%3A+name+%3D%3D%3D+%27property_price%27+%3F+parseFloat(value)+%3A+value+%7D))%3B+%7D%3B+return+(+%3Cdiv+className%3D%22property-container%22%3E+%3Ch1%3EOur+Properties%3C%2Fh1%3E+%3Cdiv+className%3D%22filter-bar%22%3E+%3Cdiv+className%3D%22filter-buttons%22%3E+%7B%5B%27All%27%2C+%27House%27%2C+%27Apartment%27%2C+%27Commercial%27%2C+%27Land%27%2C+%27Villa%27%2C+%27Cabin%27%5D.map(category+%3D%3E+(+%3Cbutton+key%3D%7Bcategory%7D+className%3D%7Bfilter-btn+%24%7BselectedCategory+%3D%3D%3D+category+%3F+%27active%27+%3A+%27%27%7D%7D+onClick%3D%7B()+%3D%3E+handleCategoryChange(category)%7D+%3E+%7Bcategory%7D+%3C%2Fbutton%3E+))%7D+%3Cdiv+className%3D%22add-property-btn%22%3E+%3CLink+to%3D%22%2Fadmin_dashboard%2FAddProperty%22+className%3D%22propertyAddLink%22%3E+%3Cbutton%3E%2B+Add+Property%3C%2Fbutton%3E+%3C%2FLink%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22property-cards%22%3E+%7BfilteredProperties.map(property+%3D%3E+(+%3Cdiv+key%3D%7Bproperty.property_id%7D+className%3D%22property-card%22%3E+%3Cimg+src%3D%7Bproperty.property_image+%7C%7C+%27http%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2FImages%2Fproperty%2Fdefault.jpg%27%7D+alt%3D%7Bproperty.property_name%7D+className%3D%22property-image%22+%2F%3E+%3Cdiv+className%3D%22property-body%22%3E+%3Ch3+className%3D%22property-title%22%3E%7Bproperty.property_name%7D%3C%2Fh3%3E+%3Cp%3E%3Cstrong%3EPrice%3A%3C%2Fstrong%3E+%24%7Bproperty.property_price%7D%3C%2Fp%3E+%3Cp%3E%3Cstrong%3ELocation%3A%3C%2Fstrong%3E+%7Bproperty.property_address%7D%3C%2Fp%3E+%3Cp%3E%3Cstrong%3ECategory%3A%3C%2Fstrong%3E+%7Bproperty.property_category%7D%3C%2Fp%3E+%3Cp%3E%3Cstrong%3EDescription%3A%3C%2Fstrong%3E+%7Bproperty.property_description%7D%3C%2Fp%3E+%3Cp%3E%3Cstrong%3EState%3A%3C%2Fstrong%3E+%7Bproperty.property_state%7D%3C%2Fp%3E+%3Cdiv+className%3D%22card-buttons%22%3E+%3Cbutton+className%3D%22delete-btn%22+onClick%3D%7B()+%3D%3E+handleDelete(property.property_id)%7D%3E+Delete+%3C%2Fbutton%3E+%3Cbutton+className%3D%22edit-btn%22+onClick%3D%7B()+%3D%3E+handleEdit(property)%7D%3EEdit%3C%2Fbutton%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+))%7D+%3C%2Fdiv%3E+%7BshowModal+%26%26+selectedProperty+%26%26+(+%3Cdiv+className%3D%22propertyModalOverlay%22+onClick%3D%7BhandleClose%7D%3E+%3Cdiv+className%3D%22propertyModalContent%22+onClick%3D%7B(e)+%3D%3E+e.stopPropagation()%7D%3E+%3Cdiv+className%3D%22propertyModalHeader%22%3E+%3Ch5%3EEdit+Property%3C%2Fh5%3E+%3Cbutton+onClick%3D%7BhandleClose%7D+className%3D%22propertyModalClose%22%3E%26times%3B%3C%2Fbutton%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyModalBody%22%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3EName%3C%2Flabel%3E+%3Cinput+name%3D%22property_name%22+value%3D%7BselectedProperty.property_name%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22+%2F%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3EPrice%3C%2Flabel%3E+%3Cinput+name%3D%22property_price%22+type%3D%22number%22+value%3D%7BselectedProperty.property_price%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22+%2F%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3ELocation%3C%2Flabel%3E+%3Cinput+name%3D%22property_address%22+value%3D%7BselectedProperty.property_address%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22+%2F%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3EDescription%3C%2Flabel%3E+%3Ctextarea+name%3D%22property_description%22+value%3D%7BselectedProperty.property_description%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22+%2F%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3EState%3C%2Flabel%3E+%3Cselect+name%3D%22property_state%22+value%3D%7BselectedProperty.property_state%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22%3E+%7B%5B%27Available%27%2C+%27Sold%27%2C+%27Pending%27%5D.map(state+%3D%3E+(+%3Coption+key%3D%7Bstate%7D+value%3D%7Bstate%7D%3E%7Bstate%7D%3C%2Foption%3E+))%7D+%3C%2Fselect%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3ECategory%3C%2Flabel%3E+%3Cselect+name%3D%22property_category%22+value%3D%7BselectedProperty.property_category%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22%3E+%7B%5B%27House%27%2C+%27Apartment%27%2C+%27Commercial%27%2C+%27Land%27%2C+%27Villa%27%2C+%27Cabin%27%5D.map(category+%3D%3E+(+%3Coption+key%3D%7Bcategory%7D+value%3D%7Bcategory%7D%3E%7Bcategory%7D%3C%2Foption%3E+))%7D+%3C%2Fselect%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3EProperty+Images%3C%2Flabel%3E+%3Cinput+type%3D%22file%22+multiple+accept%3D%22image%2F*%22+onChange%3D%7B(e)+%3D%3E+setNewImages(Array.from(e.target.files))%7D+className%3D%22propertyFormControl%22+%2F%3E+%3Cdiv+className%3D%22imagePreviewWrapper%22%3E+%7BexistingImages.map((img%2C+idx)+%3D%3E+(+%3Cimg+key%3D%7Bidx%7D+src%3D%7Bhttp%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2Fimages%2Fproperty%2F%24%7Bimg.image_path%7D%7D+alt%3D%7BProperty+Image+%24%7Bidx%7D%7D+className%3D%22image-preview%22+%2F%3E+))%7D+%7BnewImages.map((file%2C+idx)+%3D%3E+(+%3Cimg+key%3D%7Bnew-%24%7Bidx%7D%7D+src%3D%7BURL.createObjectURL(file)%7D+alt%3D%7BNew+Upload+%24%7Bidx%7D%7D+className%3D%22image-preview%22+%2F%3E+))%7D+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyModalFooter%22%3E+%3Cbutton+onClick%3D%7BhandleClose%7D+className%3D%22propertyBtnSecondary%22%3EClose%3C%2Fbutton%3E+%3Cbutton+onClick%3D%7BhandleSaveChanges%7D+className%3D%22propertyBtnPrimary%22%3ESave+Changes%3C%2Fbutton%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+)%7D+%3C%2Fdiv%3E+)%3B+%7D%3B+export+default+Property%3B+%3C%3Fphp+%2F%2F+CORS+headers+header(%22Access-Control-Allow-Origin%3A+http%3A%2F%2Flocalhost%3A5173%22)%3B+header(%22Access-Control-Allow-Methods%3A+GET%2C+POST%2C+OPTIONS%22)%3B+header(%22Access-Control-Allow-Headers%3A+Content-Type%22)%3B+header(%22Content-Type%3A+application%2Fjson%22)%3B+%2F%2F+Handle+preflight+request+if+(%24_SERVER%5B%27REQUEST_METHOD%27%5D+%3D%3D%3D+%27OPTIONS%27)+%7B+http_response_code(200)%3B+exit()%3B+%7D+%2F%2F+Database+credentials+%24servername+%3D+%22localhost%22%3B+%24username+%3D+%22root%22%3B+%24password+%3D+%22%22%3B+%24dbname+%3D+%22estate%22%3B+%2F%2F+Create+DB+connection+%24conn+%3D+new+mysqli(%24servername%2C+%24username%2C+%24password%2C+%24dbname)%3B+%2F%2F+Check+connection+if+(%24conn-%3Econnect_error)+%7B+die(json_encode(%5B%22error%22+%3D%3E+%22Connection+failed%3A+%22+.+%24conn-%3Econnect_error%5D))%3B+%7D+%2F%2F+Check+if+property_id+is+provided+if+(isset(%24_GET%5B%27property_id%27%5D))+%7B+%24property_id+%3D+%24conn-%3Ereal_escape_string(%24_GET%5B%27property_id%27%5D)%3B+%2F%2F+Fetch+property+details+%24propertyQuery+%3D+%22SELECT+*+FROM+property+WHERE+property_id+%3D+%24property_id%22%3B+%24result+%3D+%24conn-%3Equery(%24propertyQuery)%3B+if+(%24result-%3Enum_rows+%3E+0)+%7B+%24property+%3D+%24result-%3Efetch_assoc()%3B+%2F%2F+Fetch+additional+images+from+property_images+table+%24imagesQuery+%3D+%22SELECT+image_name+FROM+property_images+WHERE+property_id+%3D+%24property_id%22%3B+%24imagesResult+%3D+%24conn-%3Equery(%24imagesQuery)%3B+%24additional_images+%3D+%5B%5D%3B+if+(%24imagesResult-%3Enum_rows+%3E+0)+%7B+while+(%24row+%3D+%24imagesResult-%3Efetch_assoc())+%7B+%2F%2F+Image+path+(relative+to+frontend+usage)+%24additional_images%5B%5D+%3D+%22http%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2Fimages%2Fproperty%2F%22+.+%24row%5B%27image_name%27%5D%3B+%7D+%7D+%2F%2F+Optional%3A+Fetch+assigned+agents+(if+you+want+to+include+agent+info)+%24agentsQuery+%3D+%22+SELECT+a.agent_id%2C+a.agent_name%2C+a.agent_position%2C+a.agent_telephone%2C+a.agent_email%2C+a.agent_address%2C+agent_image+FROM+agent+a+JOIN+property_agent+pa+ON+a.agent_id+%3D+pa.agent_id+WHERE+pa.property_id+%3D+%24property_id+%22%3B+%24agentsResult+%3D+%24conn-%3Equery(%24agentsQuery)%3B+%24agents+%3D+%5B%5D%3B+if+(%24agentsResult-%3Enum_rows+%3E+0)+%7B+while+(%24agent+%3D+%24agentsResult-%3Efetch_assoc())+%7B+%24agents%5B%5D+%3D+%24agent%3B+%7D+%7D+%2F%2F+Final+response+%24property%5B%27additional_images%27%5D+%3D+%24additional_images%3B+%24property%5B%27agents%27%5D+%3D+%24agents%3B+echo+json_encode(%24property)%3B+%7D+else+%7B+echo+json_encode(%5B%22message%22+%3D%3E+%22Property+not+found%22%5D)%3B+%7D+%7D+else+%7B+echo+json_encode(%5B%22message%22+%3D%3E+%22No+property+ID+provided%22%5D)%3B+%7D+%2F%2F+Close+DB+connection+%24conn-%3Eclose()%3B+%3F%3E&rlz=1C1GCEU_enLK1160LK1160&oq=Property.jsx%3Ft%3D1748954807893%3A452+Uncaught+TypeError%3A+existingImages.map+is+not+a+function+at+Property+(Property.jsx%3Ft%3D1748954807893%3A452%3A28)+Property.jsx%3Ft%3D1748954807893%3A452+Uncaught+TypeError%3A+existingImages.map+is+not+a+function+at+Property+(Property.jsx%3Ft%3D1748954807893%3A452%3A28)+react-dom.development.js%3A18704+The+above+error+occurred+in+the+%3CProperty%3E+component%3A+at+Property+(http%3A%2F%2Flocalhost%3A5173%2Fsrc%2FDashboard%2FProperty%2FProperty.jsx%3Ft%3D1748954807893%3A24%3A39)+at+RenderedRoute+(http%3A%2F%2Flocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A5449%3A26)+at+Outlet+(http%3A%2F%2Flocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A6116%3A26)+at+main+at+div+at+DashboardLayout+at+RenderedRoute+(http%3A%2F%2Flocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A5449%3A26)+at+Routes+(http%3A%2F%2Flocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A6182%3A3)+at+Router+(http%3A%2F%2Flocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A6125%3A13)+at+BrowserRouter+(http%3A%2F%2Flocalhost%3A5173%2Fnode_modules%2F.vite%2Fdeps%2Freact-router-dom.js%3Fv%3Daa0fc25f%3A9111%3A3)+at+App+Consider+adding+an+error+boundary+to+your+tree+to+customize+error+handling+behavior.+Visit+https%3A%2F%2Freactjs.org%2Flink%2Ferror-boundaries+to+learn+more+about+error+boundaries.+react-dom.development.js%3A26962+Uncaught+TypeError%3A+existingImages.map+is+not+a+function+at+Property+(Property.jsx%3Ft%3D1748954807893%3A452%3A28)++what+is+the+error-import+React%2C+%7B+useState%2C+useEffect+%7D+from+%27react%27%3B+import+%7B+Link+%7D+from+%27react-router-dom%27%3B+import+axios+from+%27axios%27%3B+import+%27.%2FProperty1.css%27%3B+const+Property+%3D+()+%3D%3E+%7B+const+%5Bproperties%2C+setProperties%5D+%3D+useState(%5B%5D)%3B+const+%5BfilteredProperties%2C+setFilteredProperties%5D+%3D+useState(%5B%5D)%3B+const+%5BselectedCategory%2C+setSelectedCategory%5D+%3D+useState(%27All%27)%3B+const+%5BshowModal%2C+setShowModal%5D+%3D+useState(false)%3B+const+%5BselectedProperty%2C+setSelectedProperty%5D+%3D+useState(null)%3B+const+%5BisDeleting%2C+setIsDeleting%5D+%3D+useState(false)%3B+const+API_URL+%3D+%27http%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2Fproperty.api.php%27%3B+const+%5BexistingImages%2C+setExistingImages%5D+%3D+useState(%5B%5D)%3B+const+%5BnewImages%2C+setNewImages%5D+%3D+useState(%5B%5D)%3B+useEffect(()+%3D%3E+%7B+if+(showModal+%26%26+selectedProperty%3F.property_id)+%7B+fetch(http%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2Fproperty.images.api.php%3Fproperty_id%3D%24%7BselectedProperty.property_id%7D)+.then(res+%3D%3E+res.json())+.then(data+%3D%3E+setExistingImages(data))+.catch(err+%3D%3E+console.error(%27Error+loading+images%3A%27%2C+err))%3B+%7D+%7D%2C+%5BshowModal%2C+selectedProperty%5D)%3B+if+(newImages.length+%3E+0)+%7B+const+formData+%3D+new+FormData()%3B+formData.append(%27property_id%27%2C+selectedProperty.property_id)%3B+newImages.forEach(img+%3D%3E+formData.append(%27images%5B%5D%27%2C+img))%3B+fetch(%27http%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2Fproperty.images.api.php%27%2C+%7B+method%3A+%27POST%27%2C+body%3A+formData+%7D)+.then(res+%3D%3E+res.json())+.then(data+%3D%3E+%7B+if+(data.success)+%7B+alert(%27Images+uploaded!%27)%3B+setNewImages(%5B%5D)%3B+setExistingImages(prev+%3D%3E+%5B...prev%2C+...data.uploadedImages%5D)%3B+%7D+else+%7B+alert(%27Image+upload+failed!%27)%3B+%7D+%7D)%3B+%7D+useEffect(()+%3D%3E+%7B+fetchProperties()%3B+%7D%2C+%5B%5D)%3B+const+fetchProperties+%3D+async+()+%3D%3E+%7B+try+%7B+const+response+%3D+await+axios.get(API_URL)%3B+const+data+%3D+Array.isArray(response.data)+%3F+response.data+%3A+%5B%5D%3B+setProperties(data)%3B+setFilteredProperties(data)%3B+%7D+catch+(error)+%7B+console.error(%22Error+fetching+properties%22%2C+error)%3B+%7D+%7D%3B+const+handleCategoryChange+%3D+(category)+%3D%3E+%7B+setSelectedCategory(category)%3B+setFilteredProperties(+category+%3D%3D%3D+%27All%27+%3F+properties+%3A+properties.filter(prop+%3D%3E+prop.property_category+%3D%3D%3D+category)+)%3B+%7D%3B+const+handleDelete+%3D+async+(property_id)+%3D%3E+%7B+if+(!window.confirm(%22Are+you+sure+you+want+to+delete+this+property%3F%22))+return%3B+try+%7B+const+response+%3D+await+axios.delete(API_URL%2C+%7B+data%3A+%7B+property_id+%7D%2C+headers%3A+%7B+%27Content-Type%27%3A+%27application%2Fjson%27+%7D%2C+%7D)%3B+if+(response.data.status)+%7B+alert(%22Property+deleted+successfully!%22)%3B+fetchProperties()%3B+%7D+else+%7B+console.error(%22Delete+failed%3A%22%2C+response.data)%3B+alert(%22Delete+failed%3A+%22+%2B+(response.data.message+%7C%7C+%22Unknown+error%22))%3B+%7D+%7D+catch+(error)+%7B+console.error(%22Delete+error%3A%22%2C+error)%3B+if+(error.response+%26%26+error.response.data)+%7B+console.error(%22Delete+error+response%3A+%22%2C+error.response.data)%3B+alert(%22Delete+error%3A+%22+%2B+error.response.data.message)%3B+%7D+else+%7B+alert(%22Unexpected+delete+error.+Check+console.%22)%3B+%7D+%7D+%7D%3B+const+handleEdit+%3D+(property)+%3D%3E+%7B+setSelectedProperty(property)%3B+setShowModal(true)%3B+%7D%3B+const+handleClose+%3D+()+%3D%3E+setShowModal(false)%3B+const+handleSaveChanges+%3D+async+()+%3D%3E+%7B+try+%7B+const+updateData+%3D+%7B+property_id%3A+selectedProperty.property_id%2C+property_name%3A+selectedProperty.property_name%2C+property_address%3A+selectedProperty.property_address%2C+property_description%3A+selectedProperty.property_description%2C+property_price%3A+selectedProperty.property_price%2C+property_state%3A+selectedProperty.property_state%2C+property_category%3A+selectedProperty.property_category+%7D%3B+const+response+%3D+await+axios.put(API_URL%2C+updateData)%3B+if+(response.data.status)+%7B+fetchProperties()%3B+handleClose()%3B+alert(%22Property+updated+successfully!%22)%3B+%7D+else+%7B+alert(Update+failed%3A+%24%7Bresponse.data.message%7D)%3B+%7D+%7D+catch+(error)+%7B+console.error(%22Error+updating+property%3A%22%2C+error)%3B+alert(%22Failed+to+update+property.%22)%3B+%7D+%7D%3B+const+handleChange+%3D+(e)+%3D%3E+%7B+const+%7B+name%2C+value+%7D+%3D+e.target%3B+setSelectedProperty(prev+%3D%3E+(%7B+...prev%2C+%5Bname%5D%3A+name+%3D%3D%3D+%27property_price%27+%3F+parseFloat(value)+%3A+value+%7D))%3B+%7D%3B+return+(+%3Cdiv+className%3D%22property-container%22%3E+%3Ch1%3EOur+Properties%3C%2Fh1%3E+%3Cdiv+className%3D%22filter-bar%22%3E+%3Cdiv+className%3D%22filter-buttons%22%3E+%7B%5B%27All%27%2C+%27House%27%2C+%27Apartment%27%2C+%27Commercial%27%2C+%27Land%27%2C+%27Villa%27%2C+%27Cabin%27%5D.map(category+%3D%3E+(+%3Cbutton+key%3D%7Bcategory%7D+className%3D%7Bfilter-btn+%24%7BselectedCategory+%3D%3D%3D+category+%3F+%27active%27+%3A+%27%27%7D%7D+onClick%3D%7B()+%3D%3E+handleCategoryChange(category)%7D+%3E+%7Bcategory%7D+%3C%2Fbutton%3E+))%7D+%3Cdiv+className%3D%22add-property-btn%22%3E+%3CLink+to%3D%22%2Fadmin_dashboard%2FAddProperty%22+className%3D%22propertyAddLink%22%3E+%3Cbutton%3E%2B+Add+Property%3C%2Fbutton%3E+%3C%2FLink%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22property-cards%22%3E+%7BfilteredProperties.map(property+%3D%3E+(+%3Cdiv+key%3D%7Bproperty.property_id%7D+className%3D%22property-card%22%3E+%3Cimg+src%3D%7Bproperty.property_image+%7C%7C+%27http%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2FImages%2Fproperty%2Fdefault.jpg%27%7D+alt%3D%7Bproperty.property_name%7D+className%3D%22property-image%22+%2F%3E+%3Cdiv+className%3D%22property-body%22%3E+%3Ch3+className%3D%22property-title%22%3E%7Bproperty.property_name%7D%3C%2Fh3%3E+%3Cp%3E%3Cstrong%3EPrice%3A%3C%2Fstrong%3E+%24%7Bproperty.property_price%7D%3C%2Fp%3E+%3Cp%3E%3Cstrong%3ELocation%3A%3C%2Fstrong%3E+%7Bproperty.property_address%7D%3C%2Fp%3E+%3Cp%3E%3Cstrong%3ECategory%3A%3C%2Fstrong%3E+%7Bproperty.property_category%7D%3C%2Fp%3E+%3Cp%3E%3Cstrong%3EDescription%3A%3C%2Fstrong%3E+%7Bproperty.property_description%7D%3C%2Fp%3E+%3Cp%3E%3Cstrong%3EState%3A%3C%2Fstrong%3E+%7Bproperty.property_state%7D%3C%2Fp%3E+%3Cdiv+className%3D%22card-buttons%22%3E+%3Cbutton+className%3D%22delete-btn%22+onClick%3D%7B()+%3D%3E+handleDelete(property.property_id)%7D%3E+Delete+%3C%2Fbutton%3E+%3Cbutton+className%3D%22edit-btn%22+onClick%3D%7B()+%3D%3E+handleEdit(property)%7D%3EEdit%3C%2Fbutton%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+))%7D+%3C%2Fdiv%3E+%7BshowModal+%26%26+selectedProperty+%26%26+(+%3Cdiv+className%3D%22propertyModalOverlay%22+onClick%3D%7BhandleClose%7D%3E+%3Cdiv+className%3D%22propertyModalContent%22+onClick%3D%7B(e)+%3D%3E+e.stopPropagation()%7D%3E+%3Cdiv+className%3D%22propertyModalHeader%22%3E+%3Ch5%3EEdit+Property%3C%2Fh5%3E+%3Cbutton+onClick%3D%7BhandleClose%7D+className%3D%22propertyModalClose%22%3E%26times%3B%3C%2Fbutton%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyModalBody%22%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3EName%3C%2Flabel%3E+%3Cinput+name%3D%22property_name%22+value%3D%7BselectedProperty.property_name%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22+%2F%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3EPrice%3C%2Flabel%3E+%3Cinput+name%3D%22property_price%22+type%3D%22number%22+value%3D%7BselectedProperty.property_price%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22+%2F%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3ELocation%3C%2Flabel%3E+%3Cinput+name%3D%22property_address%22+value%3D%7BselectedProperty.property_address%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22+%2F%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3EDescription%3C%2Flabel%3E+%3Ctextarea+name%3D%22property_description%22+value%3D%7BselectedProperty.property_description%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22+%2F%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3EState%3C%2Flabel%3E+%3Cselect+name%3D%22property_state%22+value%3D%7BselectedProperty.property_state%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22%3E+%7B%5B%27Available%27%2C+%27Sold%27%2C+%27Pending%27%5D.map(state+%3D%3E+(+%3Coption+key%3D%7Bstate%7D+value%3D%7Bstate%7D%3E%7Bstate%7D%3C%2Foption%3E+))%7D+%3C%2Fselect%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3ECategory%3C%2Flabel%3E+%3Cselect+name%3D%22property_category%22+value%3D%7BselectedProperty.property_category%7D+onChange%3D%7BhandleChange%7D+className%3D%22propertyFormControl%22%3E+%7B%5B%27House%27%2C+%27Apartment%27%2C+%27Commercial%27%2C+%27Land%27%2C+%27Villa%27%2C+%27Cabin%27%5D.map(category+%3D%3E+(+%3Coption+key%3D%7Bcategory%7D+value%3D%7Bcategory%7D%3E%7Bcategory%7D%3C%2Foption%3E+))%7D+%3C%2Fselect%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyFormGroup%22%3E+%3Clabel%3EProperty+Images%3C%2Flabel%3E+%3Cinput+type%3D%22file%22+multiple+accept%3D%22image%2F*%22+onChange%3D%7B(e)+%3D%3E+setNewImages(Array.from(e.target.files))%7D+className%3D%22propertyFormControl%22+%2F%3E+%3Cdiv+className%3D%22imagePreviewWrapper%22%3E+%7BexistingImages.map((img%2C+idx)+%3D%3E+(+%3Cimg+key%3D%7Bidx%7D+src%3D%7Bhttp%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2Fimages%2Fproperty%2F%24%7Bimg.image_path%7D%7D+alt%3D%7BProperty+Image+%24%7Bidx%7D%7D+className%3D%22image-preview%22+%2F%3E+))%7D+%7BnewImages.map((file%2C+idx)+%3D%3E+(+%3Cimg+key%3D%7Bnew-%24%7Bidx%7D%7D+src%3D%7BURL.createObjectURL(file)%7D+alt%3D%7BNew+Upload+%24%7Bidx%7D%7D+className%3D%22image-preview%22+%2F%3E+))%7D+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3Cdiv+className%3D%22propertyModalFooter%22%3E+%3Cbutton+onClick%3D%7BhandleClose%7D+className%3D%22propertyBtnSecondary%22%3EClose%3C%2Fbutton%3E+%3Cbutton+onClick%3D%7BhandleSaveChanges%7D+className%3D%22propertyBtnPrimary%22%3ESave+Changes%3C%2Fbutton%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+%3C%2Fdiv%3E+)%7D+%3C%2Fdiv%3E+)%3B+%7D%3B+export+default+Property%3B+%3C%3Fphp+%2F%2F+CORS+headers+header(%22Access-Control-Allow-Origin%3A+http%3A%2F%2Flocalhost%3A5173%22)%3B+header(%22Access-Control-Allow-Methods%3A+GET%2C+POST%2C+OPTIONS%22)%3B+header(%22Access-Control-Allow-Headers%3A+Content-Type%22)%3B+header(%22Content-Type%3A+application%2Fjson%22)%3B+%2F%2F+Handle+preflight+request+if+(%24_SERVER%5B%27REQUEST_METHOD%27%5D+%3D%3D%3D+%27OPTIONS%27)+%7B+http_response_code(200)%3B+exit()%3B+%7D+%2F%2F+Database+credentials+%24servername+%3D+%22localhost%22%3B+%24username+%3D+%22root%22%3B+%24password+%3D+%22%22%3B+%24dbname+%3D+%22estate%22%3B+%2F%2F+Create+DB+connection+%24conn+%3D+new+mysqli(%24servername%2C+%24username%2C+%24password%2C+%24dbname)%3B+%2F%2F+Check+connection+if+(%24conn-%3Econnect_error)+%7B+die(json_encode(%5B%22error%22+%3D%3E+%22Connection+failed%3A+%22+.+%24conn-%3Econnect_error%5D))%3B+%7D+%2F%2F+Check+if+property_id+is+provided+if+(isset(%24_GET%5B%27property_id%27%5D))+%7B+%24property_id+%3D+%24conn-%3Ereal_escape_string(%24_GET%5B%27property_id%27%5D)%3B+%2F%2F+Fetch+property+details+%24propertyQuery+%3D+%22SELECT+*+FROM+property+WHERE+property_id+%3D+%24property_id%22%3B+%24result+%3D+%24conn-%3Equery(%24propertyQuery)%3B+if+(%24result-%3Enum_rows+%3E+0)+%7B+%24property+%3D+%24result-%3Efetch_assoc()%3B+%2F%2F+Fetch+additional+images+from+property_images+table+%24imagesQuery+%3D+%22SELECT+image_name+FROM+property_images+WHERE+property_id+%3D+%24property_id%22%3B+%24imagesResult+%3D+%24conn-%3Equery(%24imagesQuery)%3B+%24additional_images+%3D+%5B%5D%3B+if+(%24imagesResult-%3Enum_rows+%3E+0)+%7B+while+(%24row+%3D+%24imagesResult-%3Efetch_assoc())+%7B+%2F%2F+Image+path+(relative+to+frontend+usage)+%24additional_images%5B%5D+%3D+%22http%3A%2F%2Flocalhost%2Festate%2Fbackend%2Fapi%2Fimages%2Fproperty%2F%22+.+%24row%5B%27image_name%27%5D%3B+%7D+%7D+%2F%2F+Optional%3A+Fetch+assigned+agents+(if+you+want+to+include+agent+info)+%24agentsQuery+%3D+%22+SELECT+a.agent_id%2C+a.agent_name%2C+a.agent_position%2C+a.agent_telephone%2C+a.agent_email%2C+a.agent_address%2C+agent_image+FROM+agent+a+JOIN+property_agent+pa+ON+a.agent_id+%3D+pa.agent_id+WHERE+pa.property_id+%3D+%24property_id+%22%3B+%24agentsResult+%3D+%24conn-%3Equery(%24agentsQuery)%3B+%24agents+%3D+%5B%5D%3B+if+(%24agentsResult-%3Enum_rows+%3E+0)+%7B+while+(%24agent+%3D+%24agentsResult-%3Efetch_assoc())+%7B+%24agents%5B%5D+%3D+%24agent%3B+%7D+%7D+%2F%2F+Final+response+%24property%5B%27additional_images%27%5D+%3D+%24additional_images%3B+%24property%5B%27agents%27%5D+%3D+%24agents%3B+echo+json_encode(%24property)%3B+%7D+else+%7B+echo+json_encode(%5B%22message%22+%3D%3E+%22Property+not+found%22%5D)%3B+%7D+%7D+else+%7B+echo+json_encode(%5B%22message%22+%3D%3E+%22No+property+ID+provided%22%5D)%3B+%7D+%2F%2F+Close+DB+connection+%24conn-%3Eclose()%3B+%3F%3E&gs_lcrp=EgZjaHJvbWUyBggAEEUYOTIGCAEQRRg60gEIMjk3MmowajSoAgCwAgE&sourceid=chrome&ie=UTF-8